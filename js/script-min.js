var button=document.querySelector(".write-us"),popup=document.querySelector(".modal-email"),close=document.querySelector(".modal-close");if(popup){var userName=popup.querySelector("[name=user-name]"),email=popup.querySelector("[name=e-mail]"),message=popup.querySelector("textarea"),form=popup.querySelector("form"),isStorageSupport=!0,storageName="",storageEmail="";try{storageName=localStorage.getItem("userName"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),popup.classList.remove("modal-show-close"),storageName&&storageEmail?(userName.value=storageName,email.value=storageEmail,message.focus()):userName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show-close"),popup.classList.remove("modal-show"),popup.classList.remove("form-error")}),form.addEventListener("submit",function(e){userName.value&&email.value?isStorageSupport&&(localStorage.setItem("userName",userName.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popup.classList.remove("form-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("form-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("form-error"),popup.classList.add("modal-show-close")))})}var mapLink=document.querySelector(".contacts-map"),mapPopup=document.querySelector(".modal-map");if(mapPopup){var mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show"),mapPopup.classList.remove("modal-show-close")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show"),mapPopup.classList.add("modal-show-close")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup.classList.contains("modal-show")&&(mapPopup.classList.remove("modal-show"),mapPopup.classList.add("modal-show-close")))})}var addButton=document.querySelectorAll(".add-basket-button"),addPopup=document.querySelector(".add-basket");if(addPopup){for(var addClose=addPopup.querySelector(".modal-close"),resumeClose=addPopup.querySelector(".button-next"),i=0;i<addButton.length;i++)addButton[i].addEventListener("click",function(e){e.preventDefault(),addPopup.classList.remove("modal-show-close"),addPopup.classList.contains("modal-show")?addPopup.classList.remove("modal-show"):addPopup.classList.add("modal-show")},!1);addClose.addEventListener("click",function(e){e.preventDefault(),addPopup.classList.remove("modal-show"),addPopup.classList.add("modal-show-close")}),resumeClose.addEventListener("click",function(e){e.preventDefault(),addPopup.classList.remove("modal-show"),addPopup.classList.add("modal-show-close")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),addPopup.classList.contains("modal-show")&&(addPopup.classList.remove("modal-show"),addPopup.classList.add("modal-show-close")))})}if(document.querySelector(".slider")){var slideIndex=1;function plusSlide(){showSlides(slideIndex+=1)}function minusSlide(){showSlides(--slideIndex)}function currentSlide(e){showSlides(slideIndex=e)}function showSlides(e){var o,s=document.getElementsByClassName("slider-item"),a=document.getElementsByClassName("button-dot");for(e>s.length&&(slideIndex=1),e<1&&(slideIndex=s.length),o=0;o<s.length;o++)s[o].style.display="none";for(o=0;o<a.length;o++)a[o].className=a[o].className.replace(" button-dot-checked","");s[slideIndex-1].style.display="block",a[slideIndex-1].className+=" button-dot-checked"}showSlides(slideIndex)}if(document.querySelector(".service")){var slideIndexService=1;function currentSlideService(e){showSlidesService(slideIndexService=e)}function showSlidesService(e){var o,s=document.getElementsByClassName("slider-service"),a=document.getElementsByClassName("service-button");for(o=0;o<s.length;o++)s[o].style.display="none";for(o=0;o<a.length;o++)a[o].className=a[o].className.replace(" service-button-active","");s[slideIndexService-1].style.display="block",a[slideIndexService-1].className+=" service-button-active"}showSlidesService(slideIndexService)}
